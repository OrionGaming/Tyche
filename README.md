# Tyche

## 合约开发

  一共两个接口，下注接口与开奖接口。下注接口由用户调用。开奖接口只能由合约账号调用。通过BCX提供的is_owner()函数保证只有庄家可以调用。

  - 下注
    - 用户下注时，调用下注接口，传入用户下注信息和下注轮次。
    - 合约解析下注信息后，从用户账户将下注金额转到合约账户。
  - 开奖
    - 开奖时，庄家传入开奖轮次以及所有玩家的下注信息。
    - 合约通过调用random函数产生三个骰子随机数并计算开奖结果。
    - 根据玩家的下注情况，给每个玩家开奖，计算玩家收益，并从庄家账户转账转账给玩家。
        
## 客户端接入BCX SDK

  - 登陆：调用passwordLogin接口登录。
  - 下注和开奖
    - 调用callContractFunction接口，分别调用合约的下注和开奖函数。
    - 开奖结果通过分析接口返回的message获得。

## 部署

  - 创建合约：通过createContract API接口进行部署
  - 更新合约：通过updateContract API接口更新合约

## 测试范例

  test.js中包含了以下内容。

  - 初始化bcx实例。
  - 调用passwordLogin接口做登录。
  - 调用callContractFunction接口来调用合约接口。
